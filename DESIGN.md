# Game Design Brief: 2D Space Sandbox (Starbound-like)

## Обзор проекта

Игра представляет собой 2D-песочницу в космическом сеттинге, вдохновлённую Starbound. Игрок исследует планеты, летает на космических кораблях, взаимодействует с космическими станциями.

## Технологический стек

- **Движок:** Bevy 0.18 (Rust). ВАЖНО: использовать документацию и API именно версии 0.18.0 (вышла 13 января 2026).
- **Тайлмап:** Рассмотреть крейт `bevy_ecs_tilemap` v0.18.x — поддерживает чанковый рендеринг, entity-per-tile, оптимизированную отправку мешей на GPU. Есть примеры chunking для бесконечных карт.

## Графика

- Стиль: пиксель-арт.
- Размер тайлов: 32×32 пикселей.

## Мультиплеер

- Планируется в будущем, но на начальном этапе разработки не является приоритетом. Можно полностью отложить и сосредоточиться на однопользовательском режиме.

## Планеты и миры

### Гравитация
- На разных планетах может быть разная гравитация.

### Геометрия карты
- **Горизонтально:** карта замкнута (wrap-around) — при движении в одну сторону игрок возвращается с другой, имитируя круглую поверхность планеты.
- **Вертикально:** предположительно можно выйти в космос при движении вверх. Детали этой механики требуют дополнительной проработки.

### Биомы
- На планетах могут быть различные биомы.
- Биомы генерируются процедурно с помощью случайного генератора.

### Структура слоёв мира

Каждый мир состоит из трёх слоёв:

1. **Foreground (передний план)** — основная физическая тайлмапа. Твёрдые блоки, с которыми игрок взаимодействует: ходит по ним, разрушает, строит. Участвуют в коллизиях.

2. **Background (задний план, редактируемый)** — фоновая тайлмапа. Игрок может размещать и убирать тайлы в этом слое. Тайлы проходимые (не участвуют в коллизиях) и отображаются позади foreground-слоя. Аналог «стен» в Terraria/Starbound.

3. **Parallax Background (параллакс-фон)** — декоративный неизменяемый фон с эффектом параллакса. Игрок не может его редактировать. Создаёт ощущение глубины и атмосферы (небо, далёкие горы, звёзды и т.д.).

## Физика

- Важна симуляция газов и жидкостей.
- На основе этой физики будут строиться некоторые игровые механики (конкретные механики пока не определены).

## Оптимизация

- Мир должен быть разбит на чанки для оптимизации рендеринга и обработки.
- Необходимо загружать и отображать только видимые/ближайшие чанки.

## Ключевые элементы игры

- Планеты (с разными биомами и гравитацией)
- Космические корабли
- Космические станции
- Строительство / разрушение блоков
- Процедурная генерация миров
- Симуляция жидкостей и газов
